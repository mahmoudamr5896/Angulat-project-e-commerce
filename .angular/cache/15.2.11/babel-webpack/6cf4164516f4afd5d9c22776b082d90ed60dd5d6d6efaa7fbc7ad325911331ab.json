{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/api-categories.service\";\nfunction ProductListComponent_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 5);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", item_r1.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r1.name);\n  }\n}\nexport class ProductListComponent {\n  constructor(apicategory) {\n    // this.Category=[\n    //   {id:1,name:'Mobile'},\n    //   {id:2,name:'Device Desktop'},\n    //   {id:3,name:'Samsung'}\n    // ]\n    this.apicategory = apicategory;\n    // Category:Icategory[] \n    // SelectedCategoryId: any;\n    this.SelectedCategoryId = 0; // Initialize SelectedCategoryId with a default value\n    this.Category = [];\n    this.Ordered = [];\n    this.totalprice = 0;\n    this.Countproduct = 0;\n  }\n  ngOnInit() {\n    this.apicategory.getallcategory().subscribe(cat => {\n      this.Category = cat;\n    });\n  }\n  handleOrderedProduct(orderedProduct) {\n    // Handle the ordered product here\n    this.Ordered.push(orderedProduct);\n    this.totalprice += orderedProduct.price;\n    console.log('Ordered Product:', this.Ordered);\n  }\n  handleCountProduct(count) {\n    this.Countproduct = count;\n  }\n  static #_ = this.ɵfac = function ProductListComponent_Factory(t) {\n    return new (t || ProductListComponent)(i0.ɵɵdirectiveInject(i1.ApiCategoriesService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProductListComponent,\n    selectors: [[\"app-product-list\"]],\n    decls: 11,\n    vars: 3,\n    consts: [[1, \"container\"], [\"name\", \"category\", \"id\", \"category\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"0\", \"selected\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"selectId\", \"orderedProduct\", \"countProduct\"], [3, \"value\"]],\n    template: function ProductListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n        i0.ɵɵtext(2, \"Filter By Category\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"select\", 1);\n        i0.ɵɵlistener(\"ngModelChange\", function ProductListComponent_Template_select_ngModelChange_3_listener($event) {\n          return ctx.SelectedCategoryId = $event;\n        });\n        i0.ɵɵelementStart(4, \"option\", 2);\n        i0.ɵɵtext(5, \"All\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(6, ProductListComponent_option_6_Template, 2, 2, \"option\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"app-products\", 4);\n        i0.ɵɵlistener(\"orderedProduct\", function ProductListComponent_Template_app_products_orderedProduct_7_listener($event) {\n          return ctx.handleOrderedProduct($event);\n        })(\"countProduct\", function ProductListComponent_Template_app_products_countProduct_7_listener($event) {\n          return ctx.handleCountProduct($event);\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(8, \"hr\")(9, \"hr\")(10, \"hr\");\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.SelectedCategoryId);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.Category);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"selectId\", ctx.SelectedCategoryId);\n      }\n    },\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":";;;;IAIIA,iCAAwD;IAAAA,YAAe;IAAAA,iBAAS;;;;IAA1CA,kCAAiB;IAACA,eAAe;IAAfA,kCAAe;;;ACM3E,OAAM,MAAOC,oBAAoB;EAQ/BC,YAAoBC,WAAgC;IAClD;IACA;IACA;IACA;IACA;IALkB,gBAAW,GAAXA,WAAW;IAP/B;IACA;IACA,uBAAkB,GAAW,CAAC,CAAC,CAAC;IAChC,aAAQ,GAAgB,EAAE;IAC1B,YAAO,GAAU,EAAE;IACnB,eAAU,GAAQ,CAAC;IACnB,iBAAY,GAAQ,CAAC;EASrB;EACAC,QAAQ;IACN,IAAI,CAACD,WAAW,CAACE,cAAc,EAAE,CAACC,SAAS,CAAEC,GAAG,IAAG;MACjD,IAAI,CAACC,QAAQ,GAACD,GAAG;IACnB,CAAC,CAAC;EACJ;EACAE,oBAAoB,CAACC,cAAmB;IACtC;IACA,IAAI,CAACC,OAAO,CAACC,IAAI,CAACF,cAAc,CAAC;IACjC,IAAI,CAACG,UAAU,IAAIH,cAAc,CAACI,KAAK;IACvCC,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAE,IAAI,CAACL,OAAO,CAAC;EAE/C;EACAM,kBAAkB,CAACC,KAAY;IAC9B,IAAI,CAACC,YAAY,GAAGD,KAAK;EAC1B;EAAC;qBA/BUjB,oBAAoB;EAAA;EAAA;UAApBA,oBAAoB;IAAAmB;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QDVjCxB,8BAAuB;QAChBA,kCAAkB;QAAAA,iBAAK;QAC9BA,iCAA4F;QAAjCA;UAAA;QAAA,EAAgC;QACvFA,iCAA2B;QAAAA,mBAAG;QAAAA,iBAAS;QACvCA,2EAAgF;QACpFA,iBAAS;QACTA,uCAIC;QAFAA;UAAA,OAAkByB,gCAA4B;QAAA,EAAC;UAAA,OAC/BA,8BAA0B;QAAA,EADK;QAE/CzB,iBAAe;QAGhBA,qBAAI;;;QAXuDA,eAAgC;QAAhCA,gDAAgC;QAE9DA,eAAW;QAAXA,sCAAW;QAGvCA,eAA+B;QAA/BA,iDAA+B","names":["i0","ProductListComponent","constructor","apicategory","ngOnInit","getallcategory","subscribe","cat","Category","handleOrderedProduct","orderedProduct","Ordered","push","totalprice","price","console","log","handleCountProduct","count","Countproduct","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/home/mahmoud/Downloads/app-start/src/app/Components/product-list/product-list.component.html","/home/mahmoud/Downloads/app-start/src/app/Components/product-list/product-list.component.ts"],"sourcesContent":["<div class=\"container\">\n   <h2>Filter By Category</h2>\n<select class=\"form-control\" name=\"category\" id=\"category\" [(ngModel)]=\"SelectedCategoryId\">\n    <option value=\"0\" selected>All</option>\n    <option *ngFor=\"let item of Category\" [value]=\"item.id\">{{ item.name }}</option>\n</select>\n<app-products\n [selectId]=\"SelectedCategoryId\"\n (orderedProduct)=\"handleOrderedProduct($event)\"\n (countProduct)=\"handleCountProduct($event)\"\n></app-products> \n</div>\n\n<hr>\n<hr>\n<hr>\n<!-- <h3>Your Cart</h3>\n<table class=\"table\">\n    <thead>\n        <th>Index</th>\n        <th>Name</th>\n        <th>Price</th>\n        <th>Img</th>\n        <th>Instock</th> \n        <th>No.item</th>\n        <th>Remove Item</th>\n    </thead>\n    <tbody>\n        <tr *ngFor=\"let prod of Ordered let i = index\"\n        [class.d-none]=\"prod?.quantity == 0\"\n        [style.background-color]=\"(prod.quantity == 1) ? 'yellow' : 'white'\">\n   <td>{{i+1}}</td>\n   <td>{{prod?.name}}</td>\n   <td>{{prod?.price | currency}}</td>\n   <td><img [src]=\"prod?.imgURL\" alt=\"\" width=\"100px\"></td>\n   <td>{{prod?.quantity}}</td>\n   <td>\n       <div>\n           <input type=\"number\" [value]=\"Countproduct\"  name=\"quantity\"  min=\"1\" max=\"{{prod?.quantity}}\">\n       </div>\n   </td>\n   <td><button class=\"btn btn-danger\" (click)=\"emitRemoveItem(prod.id)\" >Remove</button></td>\n        </tr>\n  </tbody>\n</table>\n<h3>\n    Total Price : {{totalprice}}\n</h3> -->","import { Component, OnInit } from '@angular/core';\nimport { Icategory } from 'src/app/Models/icategory';\nimport { ApiCategoriesService } from 'src/app/Services/api-categories.service';\nimport { ApiProductsService } from 'src/app/Services/api-products.service';\n\n@Component({\n  selector: 'app-product-list',\n  templateUrl: './product-list.component.html',\n  styleUrls: ['./product-list.component.css']\n})\nexport class ProductListComponent implements OnInit {\n  // Category:Icategory[] \n  // SelectedCategoryId: any;\n  SelectedCategoryId: number = 0; // Initialize SelectedCategoryId with a default value\n  Category: Icategory[] = [];\n  Ordered: any[] = [];\n  totalprice:number=0\n  Countproduct:number=0\n  constructor(private apicategory:ApiCategoriesService){\n    // this.Category=[\n    //   {id:1,name:'Mobile'},\n    //   {id:2,name:'Device Desktop'},\n    //   {id:3,name:'Samsung'}\n    // ]\n   \n    \n  }\n  ngOnInit(): void {\n    this.apicategory.getallcategory().subscribe((cat)=>{\n      this.Category=cat\n    })\n  }\n  handleOrderedProduct(orderedProduct: any) {\n    // Handle the ordered product here\n    this.Ordered.push(orderedProduct) \n    this.totalprice += orderedProduct.price\n    console.log('Ordered Product:', this.Ordered);\n\n  }\n  handleCountProduct(count:number){\n   this.Countproduct = count;\n  }\n  // emitRemoveItem(id:number){\n  //     const index = this.Ordered.findIndex(item => item.id === id);\n  //     if (index !== -1) {\n  //       this.Ordered.splice(index, 1); // Remove 1 element starting from the index\n  //       console.log('Item removed:', id);\n  //     } else {\n  //       console.log('Item not found:', id);\n  //     }\n  // }\n  \n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}